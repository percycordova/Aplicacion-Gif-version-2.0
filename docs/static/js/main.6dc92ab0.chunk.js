(this["webpackJsonpgif-app"]=this["webpackJsonpgif-app"]||[]).push([[0],{18:function(t,e,a){},19:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a(1),r=a.n(c),i=a(9),s=a.n(i),l=a(11),o=a(2),u=a(6),d=a(4),j=function(t){var e=t.insertData,a=t.updateData,r=t.dataToEdit,i=t.setDataToEdit,s={id:null,category:"",quantity:""},l=Object(c.useState)(s),j=Object(o.a)(l,2),b=j[0],O=j[1];Object(c.useEffect)((function(){O(r||s)}),[r]);var h=function(t){O(Object(d.a)(Object(d.a)({},b),{},Object(u.a)({},t.target.name,t.target.value)))},x=function(t){O(s),i(null)},p=function(){return b.category.length>=3?""===b.quantity?"Ingrese un valor num\xe9rico":/^([0-9])*$/.test(b.quantity)?b.quantity>0&&b.quantity<21?"Datos correctos":"El numero debe ser < 21":"Ingrese un valor num\xe9rico":"Ingrese una Categor\xeda"};return Object(n.jsx)("div",{className:"grid-form",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("h2",{children:null===r?"Agregar Categoria":"Actualizar Datos"}),Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),null===b.id?b.category.length>=3?/^([0-9])*$/.test(b.quantity)&&(b.quantity>0&&b.quantity<21?(e(b),x()):alert("Complete bien los campos")):alert("Complete bien los campos"):b.category.length>=3?/^([0-9])*$/.test(b.quantity)&&(b.quantity>0&&b.quantity<21?(a(b),x()):alert("Complete bien los campos")):alert("Complete bien los campos")},children:[Object(n.jsxs)("div",{className:"input-data",children:[Object(n.jsx)("input",{type:"text",name:"category",onChange:h,value:b.category,required:!0}),Object(n.jsx)("div",{className:"underline"}),Object(n.jsx)("label",{children:"Categor\xeda a buscar"})]}),Object(n.jsxs)("div",{className:"input-data",children:[Object(n.jsx)("input",{type:"text",name:"quantity",onChange:h,value:b.quantity,required:!0}),Object(n.jsx)("div",{className:"underline"}),Object(n.jsx)("label",{children:"Cantidad de imagenes"})]}),Object(n.jsx)("div",{children:Object(n.jsxs)("p",{className:"Datos correctos"===p()?"success":"danger",children:[Object(n.jsxs)("span",{className:"Datos correctos"===p()?"success-c":"danger-x",children:[" ","Datos correctos"===p()?"\u2713":"X","  "]})," ",p()]})}),Object(n.jsxs)("div",{className:"content-button",children:[Object(n.jsx)("input",{type:"submit",value:null===r?"Enviar":"Actualizar"}),Object(n.jsx)("input",{type:"reset",value:"Limpiar",onClick:x})]})]})]})})},b=a(8),O=a.n(b),h=a(10),x=function(){var t=Object(h.a)(O.a.mark((function t(e,a){var n,c,r,i,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.giphy.com/v1/stickers/search?q=".concat(encodeURI(e),"&limit=").concat(a,"&api_key=Qk6fN3mpsj2lZFugrdDXpJJQCs7tMC1q"),t.next=3,fetch(n);case 3:return c=t.sent,t.next=6,c.json();case 6:return r=t.sent,i=r.data,s=i.map((function(t){var e;return{id:t.id,title:t.title,url:null===(e=t.images)||void 0===e?void 0:e.downsized_medium.url}})),t.abrupt("return",s);case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),p=function(t){var e=t.id,a=t.title,c=t.url;return console.log(e),Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("img",{src:c,alt:a}),Object(n.jsx)("p",{children:a})]})},m=function(t){var e=t.category,a=function(t,e){var a=Object(c.useState)({data:[],loading:!0}),n=Object(o.a)(a,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){x(t,e).then((function(t){i({data:t,loading:!1})}))}),[t,e]),r}(e,t.quantity),r=a.data,i=a.loading;return Object(n.jsxs)("div",{className:"contenedor-card",children:[Object(n.jsx)("h3",{children:e}),i&&Object(n.jsx)("p",{children:"Loading"}),Object(n.jsx)("ul",{className:"card-grid",children:r.map((function(t){return Object(n.jsx)(p,Object(d.a)({},t),t.id)}))})]})},g=function(t){var e=t.el,a=t.deleteData,c=t.setDataToEdit,r=e.id,i=e.category,s=e.quantity;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:i}),Object(n.jsx)("td",{children:s}),Object(n.jsxs)("td",{children:[Object(n.jsx)("input",{type:"button",onClick:function(){return c(e)},value:"Editar",className:"button"}),Object(n.jsx)("input",{type:"button",onClick:function(){return a(r)},value:"Eliminar",className:"button"})]})]})};function f(t){var e=t.data,a=t.deleteData,c=t.setDataToEdit;return Object(n.jsxs)("div",{className:"grid-table",children:[Object(n.jsx)("h2",{className:"title-table",children:"Tabla de Categor\xedas"}),Object(n.jsxs)("table",{className:"table-categoty",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"ID"}),Object(n.jsx)("th",{children:"Categor\xeda"}),Object(n.jsx)("th",{children:"# Im\xe1genes"}),Object(n.jsx)("th",{children:"Acciones"})]})}),Object(n.jsx)("tbody",{children:0===e.length?Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"4",children:"No hay Datos para cargar ..."})}):e.map((function(t){return Object(n.jsx)(g,{el:t,deleteData:a,setDataToEdit:c},t.id)}))})]})]})}var y=function(){var t=Object(c.useState)([{id:1,category:"Dragon ball",quantity:8},{id:2,category:"Naruto",quantity:4}]),e=Object(o.a)(t,2),a=e[0],r=e[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),u=s[0],d=s[1];return Object(n.jsxs)("div",{className:"content-primary",children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("div",{className:"content",children:Object(n.jsx)("h1",{className:"text","data-text":"Gif Expert App",children:" Gif Expert App"})})}),Object(n.jsx)(j,{insertData:function(t){t.id=a.length+1,r([].concat(Object(l.a)(a),[t])),alert("Categor\xeda Ingresada")},updateData:function(t){var e=a.map((function(e){return e.id===t.id?t:e}));r(e),alert("Se actulizo la BD")},dataToEdit:u,setDataToEdit:d}),Object(n.jsx)(f,{data:a,deleteData:function(t){if(window.confirm("\xbfEst\xe1s seguro de eliminar el registro con id? ".concat(t))){var e=a.filter((function(e){return e.id!==t}));r(e)}},setDataToEdit:d}),Object(n.jsx)("ol",{children:a.map((function(t){return Object(n.jsx)(m,{category:t.category,quantity:t.quantity},t.category)}))})]})};var v=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(y,{})})};a(18);s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.6dc92ab0.chunk.js.map